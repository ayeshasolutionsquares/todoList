<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
<title>Todo</title>
<link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<style>
#addtask-btn{
    width:80px;
}
.btn-danger{
width:70px;
}
.heading{
    text-align:center;
}

/*.
.container-sm{
    background-color:rgb(230, 140, 155)
}.box{
    background-color:rgb(139, 187, 121)
}
.wrapper{
    background-color:rgb(149, 155, 204)
}
.styling{
    background-color:aqua
}  */
</style>

<body>
  <div class="container-sm object-center p-4">
        <h1 class="heading">To-Do List</h1>
        <div class="d-flex mt-4">
            <input id="text" class="form-control p-1" type="text" value="">
            <button type="button" class="p-1 m-2 btn btn-primary" id="addtask-btn">add</button>
        </div>
    
        <ul id="myList" style="list-style:none">
        </ul>
 </div>
 
 <script>
let addTask=document.getElementById("addtask-btn")
addTask.addEventListener("click",addTaskItem)

let arr=[]

function addTaskItem(){
    let val=document.getElementById("text").value
    arr.push(val)

    let ul = document.getElementById('myList')
    let div = document.createElement("div")
    var li = document.createElement('li')
    var del = document.createElement('button')
 
    var classesToAdd = ["p-1","m-2","btn","btn-danger"]
    del.classList.add(...classesToAdd);

    var classessToAdd = ["p-1","m-2","styling","flex-row"]
    li.classList.add(...classessToAdd);
   
    del.addEventListener("click",deleteTaskItem)
    li.innerText = val
    ul.append(li)
    li.append(div)
    div.append(del)
    del.innerText = "delete"
    
    document.getElementById("text").value = ''
    
    console.log("array : "+arr)

    localStorage.setItem('tasks',JSON.stringify(arr))

    function deleteTaskItem(){
    var value = li.innerText
    this.remove();
    for(i=0;i<arr.length;i++){
    if(arr[i]==li.innerText)
    {
        arr.splice(i,1)
        li.remove()
    }
    }

    localStorage.setItem('tasks',JSON.stringify(arr))
    let arr1=JSON.parse(localStorage.getItem('tasks'))
    console.log("arr in localStorage : "+arr1) 
    }
}
// localStorage.clear()
</script>

</body>

</html>